<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>观察者模式</title>
  <script>
    class Subject {
      constructor() {
        this.observers = []
      }

      addObserver(observer) {
        this.observers.push(observer)
      }

      removeObserver(observer) {
        this.observers.filter(item => item !== observer)
      }

      notify(data) {
        this.observers.forEach(item => {
          item.update(data)
        })
      }
    }

    class Observer {
      constructor(name) {
        this.name = name
      }
      update(data) {
        console.log(`我是${this.name}，我收到了${data}`)
      }
    }

    const subject = new Subject()

    const observer1 = new Observer('观察者1号')
    const observer2 = new Observer('观察者2号')

    subject.addObserver(observer1)
    subject.addObserver(observer2)

    subject.notify('的吧的吧')

  </script>
</head>
<body>
  观察者模式（Observer Pattern）：当对象间存在一对多的关系时，使用观察者模式。当被观察的对象发生变化时，其所有的观察者都会收到通知并进行相应的操作。在JavaScript中，可以使用回调函数或事件监听来实现观察者模式。

  <br><br><br>

  在前端开发中，观察者模式常被用来实现组件间的数据传递和事件处理。比如，当一个组件的状态发生改变时，可以通过观察者模式来通知其他组件更新自身的状态或视图

  <br><br><br>

  在观察者模式中，通常会定义两种角色
  <br>
  1、Subject（主题）：它是被观察的对象，当其状态发生改变时会通知所有的观察者。
  <br>
  2、Observer（观察者）：它是观察主题的对象，当主题状态发生改变时会接收到通知并进行相应的处理。
</body>
</html>